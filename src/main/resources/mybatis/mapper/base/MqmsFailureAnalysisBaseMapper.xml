<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gamc.efactory.dao.base.MqmsFailureAnalysisBaseMapper">


    <insert id="insertMqmsFailureAnalysis"  useGeneratedKeys="true" keyProperty="failureAnalysisId">
        INSERT INTO `mqms_failure_analysis`
        (
        <trim suffixOverrides=",">
                    <if test="failureAnalysisId!=null">
                        `failure_analysis_id`,
                    </if>
                    <if test="failureTrackId!=null">
                        `failure_track_id`,
                    </if>
                    <if test="failureAnalystId!=null">
                        `failure_analyst_id`,
                    </if>
                    <if test="failureAnalystName!=null">
                        `failure_analyst_name`,
                    </if>
                    <if test="failureAnalystDepartment!=null">
                        `failure_analyst_department`,
                    </if>
                    <if test="failureAnalystComment!=null">
                        `failure_analyst_comment`,
                    </if>
                    <if test="saoId!=null">
                        `sao_id`,
                    </if>
                    <if test="flag!=null">
                        `flag`,
                    </if>
                    <if test="taskName!=null">
                        `task_name`,
                    </if>
                    <if test="taskId!=null">
                        `task_id`,
                    </if>
                    <if test="submitDate!=null">
                        `submit_date`,
                    </if>
        </trim>
        )
        VALUES
        (
        <trim suffixOverrides=",">
                <if test="failureAnalysisId!=null">
                    #{failureAnalysisId},
                </if>
                <if test="failureTrackId!=null">
                    #{failureTrackId},
                </if>
                <if test="failureAnalystId!=null">
                    #{failureAnalystId},
                </if>
                <if test="failureAnalystName!=null">
                    #{failureAnalystName},
                </if>
                <if test="failureAnalystDepartment!=null">
                    #{failureAnalystDepartment},
                </if>
                <if test="failureAnalystComment!=null">
                    #{failureAnalystComment},
                </if>
                <if test="saoId!=null">
                    #{saoId},
                </if>
                <if test="flag!=null">
                    #{flag},
                </if>
                <if test="taskName!=null">
                    #{taskName},
                </if>
                <if test="taskId!=null">
                    #{taskId},
                </if>
                <if test="submitDate!=null">
                    #{submitDate},
                </if>
        </trim>
        )
    </insert>




    <update id="updateMqmsFailureAnalysis">
        UPDATE `mqms_failure_analysis`
        SET
        <trim suffixOverrides=",">
            <if test="failureTrackId != null">
                `failure_track_id` = #{failureTrackId},
            </if>
            <if test="failureAnalystId != null">
                `failure_analyst_id` = #{failureAnalystId},
            </if>
            <if test="failureAnalystName != null and failureAnalystName!=''">
                `failure_analyst_name` = #{failureAnalystName},
            </if>
            <if test="failureAnalystDepartment != null and failureAnalystDepartment!=''">
                `failure_analyst_department` = #{failureAnalystDepartment},
            </if>
            <if test="failureAnalystComment != null and failureAnalystComment!=''">
                `failure_analyst_comment` = #{failureAnalystComment},
            </if>
            <if test="saoId != null">
                `sao_id` = #{saoId},
            </if>
            <if test="flag != null and flag!=''">
                `flag` = #{flag},
            </if>
            <if test="taskName != null and taskName!=''">
                `task_name` = #{taskName},
            </if>
            <if test="taskId != null and taskId!=''">
                `task_id` = #{taskId},
            </if>
            <if test="submitDate != null and submitDate!=''">
                `submit_date` = #{submitDate},
            </if>
        </trim>
        WHERE
        <trim suffixOverrides="and">
                `failure_analysis_id` = #{failureAnalysisId} and
        </trim>
    </update>

    <update id="update">
        UPDATE `mqms_failure_analysis`
        SET
        <trim suffixOverrides=",">
        <if test="set.failureTrackId != null">
            `failure_track_id` = #{set.failureTrackId},
        </if>
        <if test="set.failureAnalystId != null">
            `failure_analyst_id` = #{set.failureAnalystId},
        </if>
        <if test="set.failureAnalystName != null and set.failureAnalystName!=''">
            `failure_analyst_name` = #{set.failureAnalystName},
        </if>
        <if test="set.failureAnalystDepartment != null and set.failureAnalystDepartment!=''">
            `failure_analyst_department` = #{set.failureAnalystDepartment},
        </if>
        <if test="set.failureAnalystComment != null and set.failureAnalystComment!=''">
            `failure_analyst_comment` = #{set.failureAnalystComment},
        </if>
        <if test="set.saoId != null">
            `sao_id` = #{set.saoId},
        </if>
        <if test="set.flag != null and set.flag!=''">
            `flag` = #{set.flag},
        </if>
        <if test="set.taskName != null and set.taskName!=''">
            `task_name` = #{set.taskName},
        </if>
        <if test="set.taskId != null and set.taskId!=''">
            `task_id` = #{set.taskId},
        </if>
        <if test="set.submitDate != null and set.submitDate!=''">
            `submit_date` = #{set.submitDate},
        </if>
        </trim>
        <trim prefix="where" suffixOverrides="and | or">
                <if test="where.failureAnalysisIdList != null">
                    `failure_analysis_id` in
                    <foreach collection="where.failureAnalysisIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test="where.failureAnalysisIdSt !=null">
                `failure_analysis_id` >= #{where.failureAnalysisIdSt} and
            </if>
            <if test="where.failureAnalysisIdEd!=null">
                `failure_analysis_id` &lt;= #{where.failureAnalysisIdEd} and
            </if>
                <if test="where.failureTrackIdList != null">
                    `failure_track_id` in
                    <foreach collection="where.failureTrackIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test="where.failureTrackIdSt !=null">
                `failure_track_id` >= #{where.failureTrackIdSt} and
            </if>
            <if test="where.failureTrackIdEd!=null">
                `failure_track_id` &lt;= #{where.failureTrackIdEd} and
            </if>
                <if test="where.failureAnalystIdList != null">
                    `failure_analyst_id` in
                    <foreach collection="where.failureAnalystIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test="where.failureAnalystIdSt !=null">
                `failure_analyst_id` >= #{where.failureAnalystIdSt} and
            </if>
            <if test="where.failureAnalystIdEd!=null">
                `failure_analyst_id` &lt;= #{where.failureAnalystIdEd} and
            </if>
                <if test="where.failureAnalystNameList != null">
                    `failure_analyst_name` in
                    <foreach collection="where.failureAnalystNameList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test ="where.fuzzyFailureAnalystName!=null and where.fuzzyFailureAnalystName.size()>0">
                (
                <foreach collection="where.fuzzyFailureAnalystName"  separator="or" item="item">
                    `Failure_analyst_name` like concat('%',#{item},'%')
                </foreach>
                ) and
            </if>
            <if test ="where.rightFuzzyFailureAnalystName!=null and where.rightFuzzyFailureAnalystName.size()>0">
                (
                <foreach collection="where.rightFuzzyFailureAnalystName"  separator="or" item="item">
                    `Failure_analyst_name` like concat(#{item},'%')
                </foreach>
                ) and
            </if>
                <if test="where.failureAnalystDepartmentList != null">
                    `failure_analyst_department` in
                    <foreach collection="where.failureAnalystDepartmentList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test ="where.fuzzyFailureAnalystDepartment!=null and where.fuzzyFailureAnalystDepartment.size()>0">
                (
                <foreach collection="where.fuzzyFailureAnalystDepartment"  separator="or" item="item">
                    `Failure_analyst_department` like concat('%',#{item},'%')
                </foreach>
                ) and
            </if>
            <if test ="where.rightFuzzyFailureAnalystDepartment!=null and where.rightFuzzyFailureAnalystDepartment.size()>0">
                (
                <foreach collection="where.rightFuzzyFailureAnalystDepartment"  separator="or" item="item">
                    `Failure_analyst_department` like concat(#{item},'%')
                </foreach>
                ) and
            </if>
                <if test="where.failureAnalystCommentList != null">
                    `failure_analyst_comment` in
                    <foreach collection="where.failureAnalystCommentList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test ="where.fuzzyFailureAnalystComment!=null and where.fuzzyFailureAnalystComment.size()>0">
                (
                <foreach collection="where.fuzzyFailureAnalystComment"  separator="or" item="item">
                    `Failure_analyst_comment` like concat('%',#{item},'%')
                </foreach>
                ) and
            </if>
            <if test ="where.rightFuzzyFailureAnalystComment!=null and where.rightFuzzyFailureAnalystComment.size()>0">
                (
                <foreach collection="where.rightFuzzyFailureAnalystComment"  separator="or" item="item">
                    `Failure_analyst_comment` like concat(#{item},'%')
                </foreach>
                ) and
            </if>
                <if test="where.saoIdList != null">
                    `sao_id` in
                    <foreach collection="where.saoIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test="where.saoIdSt !=null">
                `sao_id` >= #{where.saoIdSt} and
            </if>
            <if test="where.saoIdEd!=null">
                `sao_id` &lt;= #{where.saoIdEd} and
            </if>
                <if test="where.flagList != null">
                    `flag` in
                    <foreach collection="where.flagList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test ="where.fuzzyFlag!=null and where.fuzzyFlag.size()>0">
                (
                <foreach collection="where.fuzzyFlag"  separator="or" item="item">
                    `Flag` like concat('%',#{item},'%')
                </foreach>
                ) and
            </if>
            <if test ="where.rightFuzzyFlag!=null and where.rightFuzzyFlag.size()>0">
                (
                <foreach collection="where.rightFuzzyFlag"  separator="or" item="item">
                    `Flag` like concat(#{item},'%')
                </foreach>
                ) and
            </if>
                <if test="where.taskNameList != null">
                    `task_name` in
                    <foreach collection="where.taskNameList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test ="where.fuzzyTaskName!=null and where.fuzzyTaskName.size()>0">
                (
                <foreach collection="where.fuzzyTaskName"  separator="or" item="item">
                    `Task_name` like concat('%',#{item},'%')
                </foreach>
                ) and
            </if>
            <if test ="where.rightFuzzyTaskName!=null and where.rightFuzzyTaskName.size()>0">
                (
                <foreach collection="where.rightFuzzyTaskName"  separator="or" item="item">
                    `Task_name` like concat(#{item},'%')
                </foreach>
                ) and
            </if>
                <if test="where.taskIdList != null">
                    `task_id` in
                    <foreach collection="where.taskIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test ="where.fuzzyTaskId!=null and where.fuzzyTaskId.size()>0">
                (
                <foreach collection="where.fuzzyTaskId"  separator="or" item="item">
                    `Task_id` like concat('%',#{item},'%')
                </foreach>
                ) and
            </if>
            <if test ="where.rightFuzzyTaskId!=null and where.rightFuzzyTaskId.size()>0">
                (
                <foreach collection="where.rightFuzzyTaskId"  separator="or" item="item">
                    `Task_id` like concat(#{item},'%')
                </foreach>
                ) and
            </if>
                <if test="where.submitDateList != null">
                    `submit_date` in
                    <foreach collection="where.submitDateList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
            <if test ="where.fuzzySubmitDate!=null and where.fuzzySubmitDate.size()>0">
                (
                <foreach collection="where.fuzzySubmitDate"  separator="or" item="item">
                    `Submit_date` like concat('%',#{item},'%')
                </foreach>
                ) and
            </if>
            <if test ="where.rightFuzzySubmitDate!=null and where.rightFuzzySubmitDate.size()>0">
                (
                <foreach collection="where.rightFuzzySubmitDate"  separator="or" item="item">
                    `Submit_date` like concat(#{item},'%')
                </foreach>
                ) and
            </if>
        </trim>
    </update>


    <resultMap type="com.gamc.efactory.model.dataObject.MqmsFailureAnalysis" id="MqmsFailureAnalysisMap">
        <result property="failureAnalysisId" column="failure_analysis_id"/>
        <result property="failureTrackId" column="failure_track_id"/>
        <result property="failureAnalystId" column="failure_analyst_id"/>
        <result property="failureAnalystName" column="failure_analyst_name"/>
        <result property="failureAnalystDepartment" column="failure_analyst_department"/>
        <result property="failureAnalystComment" column="failure_analyst_comment"/>
        <result property="saoId" column="sao_id"/>
        <result property="flag" column="flag"/>
        <result property="taskName" column="task_name"/>
        <result property="taskId" column="task_id"/>
        <result property="submitDate" column="submit_date"/>
    </resultMap>


    <select id="queryMqmsFailureAnalysis" resultMap="MqmsFailureAnalysisMap">
        select
        <include refid="baseResult"></include>
        from  `mqms_failure_analysis`
        <trim prefix="where" suffixOverrides="and | or">
            <if test="failureAnalysisId != null">
                `failure_analysis_id` = #{failureAnalysisId} and
            </if>
            <if test="failureTrackId != null">
                `failure_track_id` = #{failureTrackId} and
            </if>
            <if test="failureAnalystId != null">
                `failure_analyst_id` = #{failureAnalystId} and
            </if>
            <if test="failureAnalystName != null and failureAnalystName!=''">
                `failure_analyst_name` = #{failureAnalystName} and
            </if>
            <if test="failureAnalystDepartment != null and failureAnalystDepartment!=''">
                `failure_analyst_department` = #{failureAnalystDepartment} and
            </if>
            <if test="failureAnalystComment != null and failureAnalystComment!=''">
                `failure_analyst_comment` = #{failureAnalystComment} and
            </if>
            <if test="saoId != null">
                `sao_id` = #{saoId} and
            </if>
            <if test="flag != null and flag!=''">
                `flag` = #{flag} and
            </if>
            <if test="taskName != null and taskName!=''">
                `task_name` = #{taskName} and
            </if>
            <if test="taskId != null and taskId!=''">
                `task_id` = #{taskId} and
            </if>
            <if test="submitDate != null and submitDate!=''">
                `submit_date` = #{submitDate} and
            </if>
            <if test = "(_parameter instanceof com.gamc.efactory.model.dataObject.MqmsFailureAnalysis$QueryBuilder) == true">
                <if test="failureAnalysisIdList != null">
                    `failure_analysis_id` in
                    <foreach collection="failureAnalysisIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test="failureAnalysisIdSt !=null">
                    `failure_analysis_id` >= #{failureAnalysisIdSt} and
                </if>
                <if test="failureAnalysisIdEd!=null">
                    `failure_analysis_id` &lt;= #{failureAnalysisIdEd} and
                </if>
                <if test="failureTrackIdList != null">
                    `failure_track_id` in
                    <foreach collection="failureTrackIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test="failureTrackIdSt !=null">
                    `failure_track_id` >= #{failureTrackIdSt} and
                </if>
                <if test="failureTrackIdEd!=null">
                    `failure_track_id` &lt;= #{failureTrackIdEd} and
                </if>
                <if test="failureAnalystIdList != null">
                    `failure_analyst_id` in
                    <foreach collection="failureAnalystIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test="failureAnalystIdSt !=null">
                    `failure_analyst_id` >= #{failureAnalystIdSt} and
                </if>
                <if test="failureAnalystIdEd!=null">
                    `failure_analyst_id` &lt;= #{failureAnalystIdEd} and
                </if>
                <if test="failureAnalystNameList != null">
                    `failure_analyst_name` in
                    <foreach collection="failureAnalystNameList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test ="fuzzyFailureAnalystName!=null and fuzzyFailureAnalystName.size()>0">
                    (
                    <foreach collection="fuzzyFailureAnalystName"  separator="or" item="item">
                        `Failure_analyst_name` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyFailureAnalystName!=null and rightFuzzyFailureAnalystName.size()>0">
                    (
                    <foreach collection="rightFuzzyFailureAnalystName"  separator="or" item="item">
                        `Failure_analyst_name` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test="failureAnalystDepartmentList != null">
                    `failure_analyst_department` in
                    <foreach collection="failureAnalystDepartmentList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test ="fuzzyFailureAnalystDepartment!=null and fuzzyFailureAnalystDepartment.size()>0">
                    (
                    <foreach collection="fuzzyFailureAnalystDepartment"  separator="or" item="item">
                        `Failure_analyst_department` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyFailureAnalystDepartment!=null and rightFuzzyFailureAnalystDepartment.size()>0">
                    (
                    <foreach collection="rightFuzzyFailureAnalystDepartment"  separator="or" item="item">
                        `Failure_analyst_department` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test="failureAnalystCommentList != null">
                    `failure_analyst_comment` in
                    <foreach collection="failureAnalystCommentList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test ="fuzzyFailureAnalystComment!=null and fuzzyFailureAnalystComment.size()>0">
                    (
                    <foreach collection="fuzzyFailureAnalystComment"  separator="or" item="item">
                        `Failure_analyst_comment` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyFailureAnalystComment!=null and rightFuzzyFailureAnalystComment.size()>0">
                    (
                    <foreach collection="rightFuzzyFailureAnalystComment"  separator="or" item="item">
                        `Failure_analyst_comment` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test="saoIdList != null">
                    `sao_id` in
                    <foreach collection="saoIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test="saoIdSt !=null">
                    `sao_id` >= #{saoIdSt} and
                </if>
                <if test="saoIdEd!=null">
                    `sao_id` &lt;= #{saoIdEd} and
                </if>
                <if test="flagList != null">
                    `flag` in
                    <foreach collection="flagList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test ="fuzzyFlag!=null and fuzzyFlag.size()>0">
                    (
                    <foreach collection="fuzzyFlag"  separator="or" item="item">
                        `Flag` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyFlag!=null and rightFuzzyFlag.size()>0">
                    (
                    <foreach collection="rightFuzzyFlag"  separator="or" item="item">
                        `Flag` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test="taskNameList != null">
                    `task_name` in
                    <foreach collection="taskNameList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test ="fuzzyTaskName!=null and fuzzyTaskName.size()>0">
                    (
                    <foreach collection="fuzzyTaskName"  separator="or" item="item">
                        `Task_name` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyTaskName!=null and rightFuzzyTaskName.size()>0">
                    (
                    <foreach collection="rightFuzzyTaskName"  separator="or" item="item">
                        `Task_name` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test="taskIdList != null">
                    `task_id` in
                    <foreach collection="taskIdList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test ="fuzzyTaskId!=null and fuzzyTaskId.size()>0">
                    (
                    <foreach collection="fuzzyTaskId"  separator="or" item="item">
                        `Task_id` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyTaskId!=null and rightFuzzyTaskId.size()>0">
                    (
                    <foreach collection="rightFuzzyTaskId"  separator="or" item="item">
                        `Task_id` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test="submitDateList != null">
                    `submit_date` in
                    <foreach collection="submitDateList" close=")" open="(" separator="," item="item">
                        #{item}
                    </foreach> and
                </if>
                <if test ="fuzzySubmitDate!=null and fuzzySubmitDate.size()>0">
                    (
                    <foreach collection="fuzzySubmitDate"  separator="or" item="item">
                        `Submit_date` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzySubmitDate!=null and rightFuzzySubmitDate.size()>0">
                    (
                    <foreach collection="rightFuzzySubmitDate"  separator="or" item="item">
                        `Submit_date` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
            </if>
        </trim>
    </select>

    <select id="queryMqmsFailureAnalysisLimit1" resultMap="MqmsFailureAnalysisMap">
        select
        <include refid="baseResult"></include>
        from  `mqms_failure_analysis`
        <trim prefix="where" suffixOverrides="and | or">
            <if test="failureAnalysisId != null">
                `failure_analysis_id` = #{failureAnalysisId} and
            </if>
            <if test="failureTrackId != null">
                `failure_track_id` = #{failureTrackId} and
            </if>
            <if test="failureAnalystId != null">
                `failure_analyst_id` = #{failureAnalystId} and
            </if>
            <if test="failureAnalystName != null and failureAnalystName!=''">
                `failure_analyst_name` = #{failureAnalystName} and
            </if>
            <if test="failureAnalystDepartment != null and failureAnalystDepartment!=''">
                `failure_analyst_department` = #{failureAnalystDepartment} and
            </if>
            <if test="failureAnalystComment != null and failureAnalystComment!=''">
                `failure_analyst_comment` = #{failureAnalystComment} and
            </if>
            <if test="saoId != null">
                `sao_id` = #{saoId} and
            </if>
            <if test="flag != null and flag!=''">
                `flag` = #{flag} and
            </if>
            <if test="taskName != null and taskName!=''">
                `task_name` = #{taskName} and
            </if>
            <if test="taskId != null and taskId!=''">
                `task_id` = #{taskId} and
            </if>
            <if test="submitDate != null and submitDate!=''">
                `submit_date` = #{submitDate} and
            </if>
            <if test = "(_parameter instanceof com.gamc.efactory.model.dataObject.MqmsFailureAnalysis$QueryBuilder) == true">
                    <if test="failureAnalysisIdList != null">
                        `failure_analysis_id` in
                        <foreach collection="failureAnalysisIdList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test="failureAnalysisIdSt !=null">
                    `failure_analysis_id` >= #{failureAnalysisIdSt} and
                </if>
                <if test="failureAnalysisIdEd!=null">
                    `failure_analysis_id` &lt;= #{failureAnalysisIdEd} and
                </if>
                    <if test="failureTrackIdList != null">
                        `failure_track_id` in
                        <foreach collection="failureTrackIdList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test="failureTrackIdSt !=null">
                    `failure_track_id` >= #{failureTrackIdSt} and
                </if>
                <if test="failureTrackIdEd!=null">
                    `failure_track_id` &lt;= #{failureTrackIdEd} and
                </if>
                    <if test="failureAnalystIdList != null">
                        `failure_analyst_id` in
                        <foreach collection="failureAnalystIdList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test="failureAnalystIdSt !=null">
                    `failure_analyst_id` >= #{failureAnalystIdSt} and
                </if>
                <if test="failureAnalystIdEd!=null">
                    `failure_analyst_id` &lt;= #{failureAnalystIdEd} and
                </if>
                    <if test="failureAnalystNameList != null">
                        `failure_analyst_name` in
                        <foreach collection="failureAnalystNameList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test ="fuzzyFailureAnalystName!=null and fuzzyFailureAnalystName.size()>0">
                    (
                    <foreach collection="fuzzyFailureAnalystName"  separator="or" item="item">
                        `Failure_analyst_name` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyFailureAnalystName!=null and rightFuzzyFailureAnalystName.size()>0">
                    (
                    <foreach collection="rightFuzzyFailureAnalystName"  separator="or" item="item">
                        `Failure_analyst_name` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                    <if test="failureAnalystDepartmentList != null">
                        `failure_analyst_department` in
                        <foreach collection="failureAnalystDepartmentList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test ="fuzzyFailureAnalystDepartment!=null and fuzzyFailureAnalystDepartment.size()>0">
                    (
                    <foreach collection="fuzzyFailureAnalystDepartment"  separator="or" item="item">
                        `Failure_analyst_department` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyFailureAnalystDepartment!=null and rightFuzzyFailureAnalystDepartment.size()>0">
                    (
                    <foreach collection="rightFuzzyFailureAnalystDepartment"  separator="or" item="item">
                        `Failure_analyst_department` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                    <if test="failureAnalystCommentList != null">
                        `failure_analyst_comment` in
                        <foreach collection="failureAnalystCommentList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test ="fuzzyFailureAnalystComment!=null and fuzzyFailureAnalystComment.size()>0">
                    (
                    <foreach collection="fuzzyFailureAnalystComment"  separator="or" item="item">
                        `Failure_analyst_comment` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyFailureAnalystComment!=null and rightFuzzyFailureAnalystComment.size()>0">
                    (
                    <foreach collection="rightFuzzyFailureAnalystComment"  separator="or" item="item">
                        `Failure_analyst_comment` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                    <if test="saoIdList != null">
                        `sao_id` in
                        <foreach collection="saoIdList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test="saoIdSt !=null">
                    `sao_id` >= #{saoIdSt} and
                </if>
                <if test="saoIdEd!=null">
                    `sao_id` &lt;= #{saoIdEd} and
                </if>
                    <if test="flagList != null">
                        `flag` in
                        <foreach collection="flagList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test ="fuzzyFlag!=null and fuzzyFlag.size()>0">
                    (
                    <foreach collection="fuzzyFlag"  separator="or" item="item">
                        `Flag` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyFlag!=null and rightFuzzyFlag.size()>0">
                    (
                    <foreach collection="rightFuzzyFlag"  separator="or" item="item">
                        `Flag` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                    <if test="taskNameList != null">
                        `task_name` in
                        <foreach collection="taskNameList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test ="fuzzyTaskName!=null and fuzzyTaskName.size()>0">
                    (
                    <foreach collection="fuzzyTaskName"  separator="or" item="item">
                        `Task_name` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyTaskName!=null and rightFuzzyTaskName.size()>0">
                    (
                    <foreach collection="rightFuzzyTaskName"  separator="or" item="item">
                        `Task_name` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                    <if test="taskIdList != null">
                        `task_id` in
                        <foreach collection="taskIdList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test ="fuzzyTaskId!=null and fuzzyTaskId.size()>0">
                    (
                    <foreach collection="fuzzyTaskId"  separator="or" item="item">
                        `Task_id` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzyTaskId!=null and rightFuzzyTaskId.size()>0">
                    (
                    <foreach collection="rightFuzzyTaskId"  separator="or" item="item">
                        `Task_id` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
                    <if test="submitDateList != null">
                        `submit_date` in
                        <foreach collection="submitDateList" close=")" open="(" separator="," item="item">
                            #{item}
                        </foreach> and
                    </if>
                <if test ="fuzzySubmitDate!=null and fuzzySubmitDate.size()>0">
                    (
                    <foreach collection="fuzzySubmitDate"  separator="or" item="item">
                        `Submit_date` like concat('%',#{item},'%')
                    </foreach>
                    ) and
                </if>
                <if test ="rightFuzzySubmitDate!=null and rightFuzzySubmitDate.size()>0">
                    (
                    <foreach collection="rightFuzzySubmitDate"  separator="or" item="item">
                        `Submit_date` like concat(#{item},'%')
                    </foreach>
                    ) and
                </if>
            </if>
        </trim>
        limit 1
    </select>

    <sql id="allResult">
        <trim suffixOverrides=",">
        `failure_analysis_id`,
        `failure_track_id`,
        `failure_analyst_id`,
        `failure_analyst_name`,
        `failure_analyst_department`,
        `failure_analyst_comment`,
        `sao_id`,
        `flag`,
        `task_name`,
        `task_id`,
        `submit_date`,
        </trim>
    </sql>



    <sql id="baseResult">
        <trim suffixOverrides=",">
            <if test = "(_parameter instanceof com.gamc.efactory.model.dataObject.MqmsFailureAnalysis$QueryBuilder) == true">

                <if test="fetchFields==null">
                    <include refid="allResult"></include>
                </if>
                <if test="fetchFields!=null">
                    <if test="fetchFields.AllFields !=null">
                        <include refid="allResult"></include>
                    </if>
                    <if test="fetchFields.AllFields ==null and fetchFields.fetchFields==null and fetchFields.excludeFields==null and fetchFields.otherFields==null">
                        <include refid="allResult"></include>
                    </if>
                    <if test="fetchFields.AllFields==null and fetchFields.fetchFields!=null">
                    <if test="fetchFields.fetchFields.failureAnalysisId==true">
                        `failure_analysis_id`,
                    </if>
                    <if test="fetchFields.fetchFields.failureTrackId==true">
                        `failure_track_id`,
                    </if>
                    <if test="fetchFields.fetchFields.failureAnalystId==true">
                        `failure_analyst_id`,
                    </if>
                    <if test="fetchFields.fetchFields.failureAnalystName==true">
                        `failure_analyst_name`,
                    </if>
                    <if test="fetchFields.fetchFields.failureAnalystDepartment==true">
                        `failure_analyst_department`,
                    </if>
                    <if test="fetchFields.fetchFields.failureAnalystComment==true">
                        `failure_analyst_comment`,
                    </if>
                    <if test="fetchFields.fetchFields.saoId==true">
                        `sao_id`,
                    </if>
                    <if test="fetchFields.fetchFields.flag==true">
                        `flag`,
                    </if>
                    <if test="fetchFields.fetchFields.taskName==true">
                        `task_name`,
                    </if>
                    <if test="fetchFields.fetchFields.taskId==true">
                        `task_id`,
                    </if>
                    <if test="fetchFields.fetchFields.submitDate==true">
                        `submit_date`,
                    </if>
                    </if>
                    <if test="fetchFields.AllFields==null and fetchFields.excludeFields!=null">
                    <if test="fetchFields.excludeFields.failureAnalysisId==null">
                        `failure_analysis_id`,
                    </if>
                    <if test="fetchFields.excludeFields.failureTrackId==null">
                        `failure_track_id`,
                    </if>
                    <if test="fetchFields.excludeFields.failureAnalystId==null">
                        `failure_analyst_id`,
                    </if>
                    <if test="fetchFields.excludeFields.failureAnalystName==null">
                        `failure_analyst_name`,
                    </if>
                    <if test="fetchFields.excludeFields.failureAnalystDepartment==null">
                        `failure_analyst_department`,
                    </if>
                    <if test="fetchFields.excludeFields.failureAnalystComment==null">
                        `failure_analyst_comment`,
                    </if>
                    <if test="fetchFields.excludeFields.saoId==null">
                        `sao_id`,
                    </if>
                    <if test="fetchFields.excludeFields.flag==null">
                        `flag`,
                    </if>
                    <if test="fetchFields.excludeFields.taskName==null">
                        `task_name`,
                    </if>
                    <if test="fetchFields.excludeFields.taskId==null">
                        `task_id`,
                    </if>
                    <if test="fetchFields.excludeFields.submitDate==null">
                        `submit_date`,
                    </if>
                    </if>
                    <if test="fetchFields.otherFields!=null and fetchFields.otherFields.size>0">
                        <foreach collection="fetchFields.otherFields" index="index" item="item" separator=",">
                        `#{item}`
                        </foreach>
                    </if>
                </if>
            </if>
            <if test="(_parameter instanceof com.gamc.efactory.model.dataObject.MqmsFailureAnalysis$QueryBuilder) == false" >
                <include refid="allResult"></include>
            </if>

        </trim>
    </sql>


</mapper>